<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;500;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="styles.css">
	<title>Quick Tp</title>
</head>
<body>
	<main id="container">
	<h1>Quick Tip</h1>

	<section>
		<div class="bill">
			<label for="yourBill">Bill</label>
			<input type="number" placeholder="Your bill" id="yourBill">
		</div>
		<div>
			<div class="space-between">
				<label for="">Select tip</label>
				<span id="tipPercent"></span>
			</div>
			<input type="range" value="0" id="tipInput" class="range">
		</div>
		<div class="space-between">
			<span>Tip</span>
			<span id="tipValue"></span>
		</div>
		<hr />
		<div class="space-between total">
			<span>Total</span>
			<span id="totalWithTip">
		</div>
	</section>

	<section>
		<div>
			<div class="space-between">
				<label for="splitInput">Split</label>
				<span id="splitValue"></span>
			</div>
			<input type="range" min="1" max="10" value="1" id="splitInput" class="range">
		</div>
		<div class="space-between">
			<span>Bill each</span>
			<span id="billEach"></span>
		</div>
		<div class="space-between">
			<span>Tip each</span>
			<span id="tipEach"></span>
		</div>
	</section>
	</main>
	<script>
		// ₪
		function formatmoney(value){
			value = Math.ceil(value * 100) / 100
			value = value.toFixed(2)
			return "₪ " + value
		}

		function formatsplit(value){
			if (value == "1"){
				return value + " Person"
			}
			else{
				return value + " People"
			}
		}

		function update(){
			let bill = Number(document.getElementById('yourBill').value);
			let tipPrecent = document.getElementById('tipInput').value;
			let split = document.getElementById('splitInput').value;

			let tipValue = bill * (tipPrecent/100);
			let tipperperson = tipValue / split;
			let billperperson = (bill + tipValue) / split;

			document.getElementById("tipPercent").innerHTML = tipPrecent + "%";
			document.getElementById("tipValue").innerHTML = formatmoney(tipValue);
			document.getElementById("splitValue").innerHTML = formatsplit(split);
			document.getElementById("totalWithTip").innerHTML = formatmoney(bill+tipValue);
			document.getElementById("billEach").innerHTML = formatmoney(billperperson);
			document.getElementById("tipEach").innerHTML = formatmoney(tipperperson);
		}


		let container = document.getElementById("container");
		container.addEventListener('input', update);
	</script>
</body>
</html>